(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{10:function(e,t,n){e.exports={form:"ContactForm_form__YfRAB",addField:"ContactForm_addField__2Hmk7",btn:"ContactForm_btn__2MVEt",label:"ContactForm_label__PEI7n",error:"ContactForm_error__33TDB"}},16:function(e,t,n){e.exports={contact:"Contact_contact__2m4yp",icon:"Contact_icon__3wKFx",name:"Contact_name__3yNLi",phone:"Contact_phone__3L8gi",btn:"Contact_btn__35Hjs"}},23:function(e,t,n){e.exports={form:"Filter_form__3EnQb",title:"Filter_title__1clwp",searchField:"Filter_searchField__1tli9"}},31:function(e,t,n){e.exports={section:"Section_section__3n2rE",title:"Section_title__10vwg"}},41:function(e,t,n){e.exports={container:"Container_container__34be5"}},42:function(e,t,n){e.exports={iconBtn:"IconButton_iconBtn__3vgG8"}},46:function(e,t,n){e.exports={contactList:"ContactList_contactList__1byq6"}},80:function(e,t,n){},88:function(e,t,n){"use strict";n.r(t);var r=n(2),c=n(0),a=n.n(c),o=n(14),i=n.n(o),s=n(6),u=n(8),l=n(3),b=n(5),j=n(12),d=Object(u.b)("filter/change"),f=n(4),p=n.n(f),m=n(7),O=n(21),h=n.n(O);function x(){return _.apply(this,arguments)}function _(){return(_=Object(m.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("/contacts");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e,t){return y.apply(this,arguments)}function y(){return(y=Object(m.a)(p.a.mark((function e(t,n){var r,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={name:t,number:n},e.next=3,h.a.post("/contacts",r);case 3:return c=e.sent,e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return N.apply(this,arguments)}function N(){return(N=Object(m.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.delete("/contacts/".concat(t));case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}h.a.defaults.baseURL="http://localhost:4040";var C,w,k,F=Object(u.c)("contacts/fetchContacts",Object(m.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x();case 3:return t=e.sent,e.abrupt("return",t);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))),L=Object(u.c)("contacts/addContact",function(){var e=Object(m.a)(p.a.mark((function e(t){var n,r,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.name,r=t.number,e.prev=1,e.next=4,v(n,r);case 4:return c=e.sent,e.abrupt("return",c);case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()),q=Object(u.c)("contacts/deleteContact",function(){var e=Object(m.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=g(t),e.abrupt("return",n);case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()),B=Object(u.d)([],(C={},Object(l.a)(C,F.fulfilled,(function(e,t){return t.payload})),Object(l.a)(C,L.fulfilled,(function(e,t){var n=t.payload;return[].concat(Object(b.a)(e),[n])})),Object(l.a)(C,q.fulfilled,(function(e,t){var n=t.payload;return e.filter((function(e){return e.id!==n}))})),C)),E=Object(u.d)("",Object(l.a)({},d,(function(e,t){return t.payload}))),P=Object(u.d)(!1,(w={},Object(l.a)(w,F.pending,(function(){return!0})),Object(l.a)(w,F.fulfilled,(function(){return!1})),Object(l.a)(w,F.rejected,(function(){return!1})),Object(l.a)(w,L.pending,(function(){return!0})),Object(l.a)(w,L.fulfilled,(function(){return!1})),Object(l.a)(w,L.rejected,(function(){return!1})),Object(l.a)(w,q.pending,(function(){return!0})),Object(l.a)(w,q.fulfilled,(function(){return!1})),Object(l.a)(w,q.rejected,(function(){return!1})),w)),S=Object(u.d)(null,(k={},Object(l.a)(k,F.rejected,(function(e,t){return t.payload})),Object(l.a)(k,F.pending,(function(){return null})),Object(l.a)(k,L.rejected,(function(e,t){return t.payload})),Object(l.a)(k,L.pending,(function(){return null})),Object(l.a)(k,q.rejected,(function(e,t){return t.payload})),Object(l.a)(k,q.pending,(function(){return null})),k)),A=Object(j.c)({contacts:B,filter:E,isLoading:P,error:S}),H=Object(u.a)({reducer:A,devTools:!1}),M=(n(80),n(41)),z=n.n(M);function I(e){var t=e.children;return Object(r.jsx)("div",{className:z.a.container,children:t})}var R=n(43),J=n.n(R),T=n(44),Z=n.n(T),$=n(45),D=n.n($),G=n(16),K=n.n(G),Q=n(30),U=n(49),V=n(42),Y=n.n(V);function W(e){var t=e.children,n=e.onClick,c=Object(U.a)(e,["children","onClick"]);return Object(r.jsx)("button",Object(Q.a)(Object(Q.a)({type:"button",className:Y.a.iconBtn,onClick:n},c),{},{children:t}))}W.defaultProps={onClick:function(){return null},children:null};var X=W;var ee=function(e){var t=e.id,n=e.name,c=e.phone,a=e.deleteHandler;return Object(r.jsxs)("li",{className:K.a.contact,children:[Object(r.jsxs)("span",{className:K.a.name,children:[Object(r.jsx)(J.a,{className:K.a.icon}),n]}),Object(r.jsxs)("span",{className:K.a.phone,children:[Object(r.jsx)(Z.a,{className:K.a.icon}),c]}),Object(r.jsx)(X,{onClick:a,"aria-label":"delete contact",children:Object(r.jsx)(D.a,{})})]},t)},te=n(46),ne=n.n(te),re=n(22),ce=function(e){return e.contacts},ae=function(e){return e.filter},oe=function(e){return e.isLoading},ie=Object(re.a)([ae,ce],(function(e,t){var n=e.toLowerCase().trim();return t.filter((function(e){return e.name.toLowerCase().includes(n)}))}));var se=function(){var e=Object(s.c)(ce),t=Object(s.c)(ae),n=Object(s.c)(ie),c=Object(s.b)(),a=t.trim()?n:e;return Object(r.jsx)("ul",{className:ne.a.contactList,children:a.map((function(e){return ee({id:e.id,name:e.name,phone:e.number,deleteHandler:function(){return c(q(e.id))}})}))})},ue=n(48),le=n(10),be=n.n(le);var je=function(){var e=Object(ue.a)(),t=e.register,n=e.handleSubmit,a=e.errors,o=e.reset,i=Object(c.useRef)(),u=Object(s.c)(ce),l=Object(s.b)();return Object(r.jsxs)("form",{className:be.a.form,onSubmit:n((function(e){u.find((function(t){return t.name.toLowerCase()===e.name.toLowerCase()}))?alert("".concat(e.name," is already in Phonebook")):(l(L({name:e.name.trim(),number:e.number.trim()})),i.current.blur(),o({}))})),children:[Object(r.jsxs)("label",{className:be.a.label,children:[Object(r.jsx)("input",{ref:t({required:!0,minLength:3,maxLength:18,pattern:/^[A-Za-z]+([ A-Za-z]+)*$/}),className:be.a.addField,type:"text",name:"name",placeholder:"name"}),a.name&&"required"===a.name.type&&Object(r.jsx)("p",{className:be.a.error,children:"Name is required"}),a.name&&"minLength"===a.name.type&&Object(r.jsx)("p",{className:be.a.error,children:"Name is too short. Minimum 3 characters required."}),a.name&&"maxLength"===a.name.type&&Object(r.jsx)("p",{className:be.a.error,children:"Name is too long. Maximum 18 characters allowed."}),a.name&&"pattern"===a.name.type&&Object(r.jsx)("p",{className:be.a.error,children:"Name can contain only english letters."})]}),Object(r.jsxs)("label",{className:be.a.label,children:[Object(r.jsx)("input",{ref:t({required:!0,pattern:/^\d+$/}),className:be.a.addField,type:"text",name:"number",placeholder:"xxxx-xx-xx"}),a.number&&"required"===a.number.type&&Object(r.jsx)("p",{className:be.a.error,children:"Number is required"}),a.number&&"pattern"===a.number.type&&Object(r.jsx)("p",{className:be.a.error,children:"Phone number should consist only from numbers."})]}),Object(r.jsx)("button",{ref:i,className:be.a.btn,type:"submit",children:"Add contact"})]})},de=n(31),fe=n.n(de);var pe=function(e){var t=e.title,n=e.children;return Object(r.jsxs)("section",{className:fe.a.section,children:[Object(r.jsx)("p",{className:fe.a.title,children:t}),n]})},me=n(23),Oe=n.n(me);var he=function(){var e=Object(s.c)(ae),t=Object(s.b)();return Object(r.jsx)("form",{className:Oe.a.form,children:Object(r.jsxs)("label",{children:[Object(r.jsx)("span",{className:Oe.a.title,children:"Find contacts by name"}),Object(r.jsx)("input",{className:Oe.a.searchField,type:"text",value:e,onChange:function(e){return t(d(e.target.value))}})]})})},xe=n(47),_e=n.n(xe);var ve=function(){return Object(r.jsx)(_e.a,{size:30,margin:10,color:"black",loading:!0})};var ye=function(){var e=Object(s.c)(ce),t=Object(s.c)(oe),n=Object(s.b)();return Object(c.useEffect)((function(){n(F())}),[]),Object(r.jsxs)(I,{children:[Object(r.jsx)(pe,{title:"Phonebook",children:Object(r.jsx)(je,{})}),Object(r.jsx)(pe,{title:"Contacts",children:t?Object(r.jsx)(ve,{}):e.length?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(he,{}),Object(r.jsx)(se,{})]}):Object(r.jsx)("div",{children:"Oops. no contacts here! Let's add some data!"})})]})};i.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(s.a,{store:H,children:Object(r.jsx)(ye,{})})}),document.getElementById("root"))}},[[88,1,2]]]);
//# sourceMappingURL=main.ed3e7157.chunk.js.map